### HTTP

#### Request <-> Response 구조

- 이것은 무조건 요청을 받아야만 응답을 보낼수 있는 구조로서 즉 서버에서 바로 응답을 보내줄수는 없는 HTTP의 특징 구조입니다.

#### 비연결성

- 요청을 받고 응답을 할때만 연결을 하는 것으로 지속적인 연결은 하고 있지 않고 한번의 연결만을 통해 이루어져 있어 비연결성이라고 말합니다.
- 연결을 유지하지 않기에 리소가 적어 처리가 빠른 특징이 있습니다.

#### stateless(무상태)

- 이 또한 지속적인 연결 상태가 아니고 GET, PATCH 등으로 한번 요청하고 응답하면 끝나는 상태이기에 stateless(무상태)하다라고 말하는 것 같습니다.
- 그렇기에 세션, 쿠키, DB에 데이터를 임의로 저장해서 유저(플레이어) 경험(발자취?)을 저장하여 현재의 상태를 확인하여 응답을 보내는 특징이 있습니다.

#### header

브라우저에서 F12 버튼 누르기 또는 우클릭 하고 검사 클릭 -> Network 클릭 -> Headers를 보면 확인 할 수 있습니다.

- General Header
- Request/Response Header
- Entity Header

이러한 header 정보의 메세지를 서버에 요청할때도 보내고 서버에서도 메세지를 확인하여 해당 클라이언트에게 응답 메세지를 보내주면서 서로간의 응답을 주고 받을수 있는 특징이 있습니다.

OSI 7 계층 방식으로 OSI 7 계층에서 어플리케이션 계층의 대표적인 프로토콜입니다.

#### TCP

(TCP/IP stack) OSI 7 계층에서 전송 계층에 TCP가 있습니다. HTTP의 단점을 보완한것이 TCP 이다 <br>
HTTP는 비연결성이지만 TCP는 연결지향성이다. <br>
TCP는 데이터교환을 하기위해선 무조건 연결을 통해서만 데이터를 주고 받을 수 있습니다. 양방향 통신 (Full-Duplex) 입니다.

TCP는 3-way-handshake 방식으로 연결을 합니다.<br>
https://velog.io/@mjs/CS-지식-OSI-7계층-전송-계층

#### 통신은 어떻게 이루어지는가?

1. 서버는 접속 요청을 받기 위한 소켓을 연다. -> Listen (서버가 클라에게 접속을 위한 소켓)
2. 클라이언트는 소켓을 만들고, 서버에 접속을 요청한다. -> Connect (클라이언트가 서버에게 접속을 하기위한 소켓)
3. 서버는 접속 요청을 받아서 클라이언트와 통신할 소켓을 따로 만든다 -> Accept (통신을 위한 소켓 중간다리역할?)
4. 소켓을 통해 서로 데이터를 주고 받는다. -> Send & Receive => 반복
5. 통신을 마치면 소켓을 닫는다. -> Close => 상대방은 Receive로 인지할 수 있다.

#### webSocket

HTTP프로토콜 위에서 동작하는 실시간 양방향 통신 (Full-Duplex) 이라고 합니다.
어차피 HTTP안에서 TCP로 연결도 하니깐 양방향 통신도 하면 되지않을까 하다가 나온 것이 webSocket이라고 합니다.

1. **실시간 통신**
   - 웹소켓은 연결이 활성화된 상태에서 빠르고 지속적인 메시지 교환을 허용합니다. 이로 인해 애플리케이션은 사용자에게 지연 없는 인터랙션을 제공할 수 있습니다.
2. **양방향 통신 (Full-Duplex)**
   - 클라이언트와 서버가 동시에 서로에게 메시지를 보낼 수 있습니다. 이는 한 쪽이 다른 쪽의 메시지를 기다리지 않고도 독립적으로 메시지를 송수신할 수 있음을 의미합니다.
3. **지속적 연결**
   - 일단 웹소켓 연결이 수립되면, 그 연결은 클라이언트나 서버가 명시적으로 종료할 때까지 유지됩니다. 이는 오버헤드를 줄이고 빠른 데이터 전송을 가능하게 합니다.
4. **낮은 오버헤드**
   - 웹소켓은 데이터 패킷의 헤더가 매우 작기 때문에 오버헤드가 낮습니다. 이는 효율적인 네트워크 자원 사용을 가능하게 합니다.
5. **HTTP와의 호환성**
   - 웹소켓은 HTTP 포트(80과 443)를 통해 작동하기 때문에 기존 웹 인프라와 잘 통합됩니다. 웹소켓 연결은 HTTP 연결을 통해 초기화되며, 이후 전이중 통신 채널로 전환됩니다.
